{% extends "layout.html" %}

{% block title %}orders{% endblock title %}

{% block content %}
    

    <main class="container mx-auto px-4 py-8">
        <div class="flex justify-center">
            <div id="theme-toggle" class="mb-8 w-3/4">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-primary-600 dark:text-primary-400 mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Orders</p>
                                <p class="text-2xl font-semibold text-gray-900 dark:text-white">12</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Completed</p>
                                <p class="text-2xl font-semibold text-gray-900 dark:text-white">8</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 mr-4">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-600 dark:text-gray-400">In Progress</p>
                                <p class="text-2xl font-semibold text-gray-900 dark:text-white">4</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search and Filter -->
        <div class="flex justify-center">
            <div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 w-3/4">
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Search orders..." 
                        class="pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-full sm:w-64 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                </div>
                <div class="flex gap-2">
                    <select id="status-filter" class="border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                        <option value="all">All Orders</option>
                        <option value="pending">Pending</option>
                        <option value="processing">Processing</option>
                        <option value="shipped">Shipped</option>
                        <option value="delivered">Delivered</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                    <select id="time-filter" class="border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                        <option value="all">All Time</option>
                        <option value="30days">Last 30 Days</option>
                        <option value="6months">Last 6 Months</option>
                        <option value="year">Last Year</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Orders List -->
        <div class="flex justify-center">
            
            <div class="space-y-4 w-3/4" id="orders-container">
                <!-- Orders will be inserted here by JavaScript -->
            </div>
        </div>
        
        <div class="flex justify-center">
        <!-- Empty State -->
            <div id="empty-state" class="hidden w-3/4 py-12 text-center bg-white dark:bg-gray-800 rounded-lg shadow">
                <svg class="mx-auto h-12 w-12 text-gray-400 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
                <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-gray-100">No orders found</h3>
                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Try adjusting your search or filter to find what you're looking for.</p>
                <div class="mt-6">
                    <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                        Start Shopping
                    </a>
                </div>
            </div>
        </div>

        <!-- Pagination -->
        <div class="flex justify-center">
            <div class="mt-6 w-3/4 flex items-center justify-between">
                <div class="flex-1 flex justify-between sm:hidden">
                    <button id="mobile-prev-page" class="relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700">
                        Previous
                    </button>
                    <button id="mobile-next-page" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700">
                        Next
                    </button>
                </div>
                <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                    <div>
                        <p class="text-sm text-gray-700 dark:text-gray-300">
                            Showing <span id="page-start" class="font-medium">1</span> to <span id="page-end" class="font-medium">5</span> of <span id="total-items" class="font-medium">12</span> results
                        </p>
                    </div>
                    <div>
                        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                            <button id="prev-page" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700">
                                <span class="sr-only">Previous</span>
                                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                            </button>
                            <div id="pagination-numbers" class="flex">
                                <!-- Pagination numbers will be inserted here by JavaScript -->
                            </div>
                            <button id="next-page" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700">
                                <span class="sr-only">Next</span>
                                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Order Details Modal -->
    <div id="order-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 flex items-center justify-center z-50 hidden overflow-y-auto">
        <div class="bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full mx-4 my-8 overflow-hidden">
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white">Order #<span id="modal-order-id"></span></h3>
                <button id="close-modal" class="text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Order Status Tracker -->
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
                <div class="relative">
                    <div class="overflow-hidden h-2 mb-6 text-xs flex rounded bg-gray-200 dark:bg-gray-700">
                        <div id="progress-bar" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary-500" style="width: 0%"></div>
                    </div>
                    <div class="flex text-sm justify-between -mt-2">
                        <div id="step-1" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Order Placed</span>
                        </div>
                        <div id="step-2" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Processing</span>
                        </div>
                        <div id="step-3" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Shipped</span>
                        </div>
                        <div id="step-4" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Delivered</span>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        <span id="modal-status-message">Your order is being processed.</span>
                        <span id="modal-delivery-date" class="font-medium text-gray-900 dark:text-white"></span>
                    </p>
                </div>
            </div>
            
            <div class="px-6 py-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Order Information</h4>
                        <p class="mt-2 text-sm text-gray-900 dark:text-gray-100">Date: <span id="modal-order-date">--</span></p>
                        <p class="text-sm text-gray-900 dark:text-gray-100">Status: <span id="modal-order-status">--</span></p>
                        <p class="text-sm text-gray-900 dark:text-gray-100">Payment Method: <span id="modal-payment-method">--</span></p>
                    </div>
                    <div>
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Shipping Address</h4>
                        <p class="mt-2 text-sm text-gray-900 dark:text-gray-100" id="modal-shipping-address">--</p>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-3">Order Items</h4>
                    <div class="space-y-4" id="modal-order-items">
                        <!-- Order items will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <div class="mt-6 border-t border-gray-200 dark:border-gray-700 pt-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Subtotal</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-subtotal">--</span>
                    </div>
                    <div class="flex justify-between text-sm mt-2">
                        <span class="text-gray-600 dark:text-gray-400">Shipping</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-shipping">--</span>
                    </div>
                    <div class="flex justify-between text-sm mt-2">
                        <span class="text-gray-600 dark:text-gray-400">Tax</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-tax">--</span>
                    </div>
                    <div class="flex justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                        <span class="text-base font-medium text-gray-900 dark:text-white">Total</span>
                        <span class="text-base font-medium text-gray-900 dark:text-white" id="modal-total">--</span>
                    </div>
                </div>
            </div>
            
            <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-3 justify-end">
                <button id="track-package" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Track Package
                </button>
                <button id="contact-support" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Contact Support
                </button>
                <button id="buy-again" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Buy Again
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sample data - in a real application, this would come from an API
        const orders = [
            {
                id: "ORD-2023-1001",
                date: "2023-05-15T10:30:00",
                total: 129.99,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "123 Main St, Apt 4B, New York, NY 10001, USA",
                items: [
                    { 
                        name: "Wireless Headphones", 
                        quantity: 1, 
                        price: 89.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Headphones"
                    },
                    { 
                        name: "Phone Case", 
                        quantity: 2, 
                        price: 19.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Case"
                    }
                ],
                shipping: 5.99,
                tax: 10.40,
                estimatedDelivery: "2023-05-20",
                trackingNumber: "TRK123456789"
            },
            {
                id: "ORD-2023-1002",
                date: "2023-05-14T14:45:00",
                total: 249.95,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "456 Oak Avenue, Seattle, WA 98101, USA",
                items: [
                    { 
                        name: "Smart Watch", 
                        quantity: 1, 
                        price: 199.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Watch"
                    },
                    { 
                        name: "Watch Band", 
                        quantity: 1, 
                        price: 29.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Band"
                    }
                ],
                shipping: 0,
                tax: 19.97,
                estimatedDelivery: "2023-05-21",
                trackingNumber: "TRK987654321"
            },
            {
                id: "ORD-2023-1003",
                date: "2023-05-14T09:15:00",
                total: 74.98,
                status: "processing",
                paymentMethod: "Credit Card",
                shippingAddress: "789 Pine Street, San Francisco, CA 94101, USA",
                items: [
                    { 
                        name: "Bluetooth Speaker", 
                        quantity: 1, 
                        price: 59.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Speaker"
                    },
                    { 
                        name: "USB Cable", 
                        quantity: 1, 
                        price: 9.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Cable"
                    }
                ],
                shipping: 4.99,
                tax: 6.00,
                estimatedDelivery: "2023-05-22",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1004",
                date: "2023-05-13T16:20:00",
                total: 349.99,
                status: "pending",
                paymentMethod: "Credit Card",
                shippingAddress: "101 Maple Road, Chicago, IL 60601, USA",
                items: [
                    { 
                        name: "Tablet", 
                        quantity: 1, 
                        price: 329.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Tablet"
                    }
                ],
                shipping: 0,
                tax: 20.00,
                estimatedDelivery: "2023-05-23",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1005",
                date: "2023-05-13T11:10:00",
                total: 159.96,
                status: "cancelled",
                paymentMethod: "PayPal",
                shippingAddress: "202 Cedar Lane, Austin, TX 78701, USA",
                items: [
                    { 
                        name: "Wireless Mouse", 
                        quantity: 1, 
                        price: 49.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Mouse"
                    },
                    { 
                        name: "Keyboard", 
                        quantity: 1, 
                        price: 89.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Keyboard"
                    }
                ],
                shipping: 7.99,
                tax: 11.99,
                estimatedDelivery: "",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1006",
                date: "2023-05-12T13:25:00",
                total: 529.98,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "303 Birch Street, Miami, FL 33101, USA",
                items: [
                    { 
                        name: "Smartphone", 
                        quantity: 1, 
                        price: 499.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Phone"
                    },
                    { 
                        name: "Screen Protector", 
                        quantity: 1, 
                        price: 14.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Protector"
                    }
                ],
                shipping: 0,
                tax: 15.00,
                estimatedDelivery: "2023-05-18",
                trackingNumber: "TRK456789123"
            },
            {
                id: "ORD-2023-1007",
                date: "2023-05-12T10:05:00",
                total: 89.98,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "404 Elm Court, Denver, CO 80201, USA",
                items: [
                    { 
                        name: "External Hard Drive", 
                        quantity: 1, 
                        price: 79.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=HDD"
                    }
                ],
                shipping: 4.99,
                tax: 5.00,
                estimatedDelivery: "2023-05-19",
                trackingNumber: "TRK789123456"
            },
            {
                id: "ORD-2023-1008",
                date: "2023-05-11T15:40:00",
                total: 149.97,
                status: "processing",
                paymentMethod: "Credit Card",
                shippingAddress: "505 Spruce Avenue, Boston, MA 02101, USA",
                items: [
                    { 
                        name: "Wireless Earbuds", 
                        quantity: 1, 
                        price: 129.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Earbuds"
                    },
                    { 
                        name: "Charging Case", 
                        quantity: 1, 
                        price: 19.98,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Case"
                    }
                ],
                shipping: 0,
                tax: 0,
                estimatedDelivery: "2023-05-20",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1009",
                date: "2023-05-11T09:30:00",
                total: 299.99,
                status: "pending",
                paymentMethod: "PayPal",
                shippingAddress: "606 Redwood Drive, Portland, OR 97201, USA",
                items: [
                    { 
                        name: "Digital Camera", 
                        quantity: 1, 
                        price: 279.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Camera"
                    }
                ],
                shipping: 9.99,
                tax: 10.01,
                estimatedDelivery: "2023-05-21",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1010",
                date: "2023-05-10T14:15:00",
                total: 199.98,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "707 Walnut Street, Philadelphia, PA 19101, USA",
                items: [
                    { 
                        name: "Fitness Tracker", 
                        quantity: 1, 
                        price: 149.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Tracker"
                    },
                    { 
                        name: "Extra Band", 
                        quantity: 1, 
                        price: 29.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Band"
                    }
                ],
                shipping: 7.99,
                tax: 12.01,
                estimatedDelivery: "2023-05-15",
                trackingNumber: "TRK321654987"
            },
            {
                id: "ORD-2023-1011",
                date: "2023-05-10T11:20:00",
                total: 449.99,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "808 Chestnut Lane, Atlanta, GA 30301, USA",
                items: [
                    { 
                        name: "Gaming Console", 
                        quantity: 1, 
                        price: 399.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Console"
                    },
                    { 
                        name: "Controller", 
                        quantity: 1, 
                        price: 49.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Controller"
                    }
                ],
                shipping: 0,
                tax: 0.01,
                estimatedDelivery: "2023-05-17",
                trackingNumber: "TRK654987321"
            },
            {
                id: "ORD-2023-1012",
                date: "2023-05-09T16:55:00",
                total: 79.99,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "909 Aspen Road, Las Vegas, NV 89101, USA",
                items: [
                    { 
                        name: "Portable Charger", 
                        quantity: 1, 
                        price: 59.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Charger"
                    },
                    { 
                        name: "USB-C Cable", 
                        quantity: 2, 
                        price: 9.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Cable"
                    }
                ],
                shipping: 0,
                tax: 0.02,
                estimatedDelivery: "2023-05-14",
                trackingNumber: "TRK159753456"
            }
        ];

        // DOM elements
        const ordersContainer = document.getElementById('orders-container');
        const emptyState = document.getElementById('empty-state');
        const searchInput = document.getElementById('search-input');
        const statusFilter = document.getElementById('status-filter');
        const timeFilter = document.getElementById('time-filter');
        const orderModal = document.getElementById('order-modal');
        const closeModal = document.getElementById('close-modal');
        const trackPackageBtn = document.getElementById('track-package');
        const contactSupportBtn = document.getElementById('contact-support');
        const buyAgainBtn = document.getElementById('buy-again');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const mobilePrevPageBtn = document.getElementById('mobile-prev-page');
        const mobileNextPageBtn = document.getElementById('mobile-next-page');
        const paginationNumbers = document.getElementById('pagination-numbers');
        const pageStart = document.getElementById('page-start');
        const pageEnd = document.getElementById('page-end');
        const totalItems = document.getElementById('total-items');
        const themeToggle = document.getElementById('theme-toggle');

        // State variables
        let filteredOrders = [...orders];
        let currentPage = 1;
        const itemsPerPage = 5;
        let currentOrderId = null;

        // Initialize the page
        function init() {
            // Initialize theme from localStorage
            initTheme();
            renderOrders();
            setupEventListeners();
        }

        // Initialize theme based on localStorage or system preference
        function initTheme() {
            // Check if theme is stored in localStorage
            const storedTheme = localStorage.getItem('theme');
            
            if (storedTheme) {
                // Apply stored theme
                document.documentElement.classList.toggle('dark', storedTheme === 'dark');
            } else {
                // Check system preference
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                document.documentElement.classList.toggle('dark', prefersDark);
                localStorage.setItem('theme', prefersDark ? 'dark' : 'light');
            }
        }

        // Toggle theme between light and dark
        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Render orders
        function renderOrders() {
            // Apply filters
            applyFilters();
            
            // Apply pagination
            const paginatedOrders = getPaginatedOrders();
            
            // Update orders list
            renderOrdersList(paginatedOrders);
            
            // Update pagination
            updatePagination();
        }

        // Apply filters to orders
        function applyFilters() {
            const searchTerm = searchInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const timeValue = timeFilter.value;
            
            filteredOrders = orders.filter(order => {
                // Search filter
                const matchesSearch = 
                    order.id.toLowerCase().includes(searchTerm) ||
                    order.items.some(item => item.name.toLowerCase().includes(searchTerm));
                
                // Status filter
                const matchesStatus = statusValue === 'all' || order.status === statusValue;
                
                // Time filter
                let matchesTime = true;
                if (timeValue !== 'all') {
                    const orderDate = new Date(order.date);
                    const today = new Date();
                    
                    if (timeValue === '30days') {
                        const thirtyDaysAgo = new Date();
                        thirtyDaysAgo.setDate(today.getDate() - 30);
                        matchesTime = orderDate >= thirtyDaysAgo;
                    } else if (timeValue === '6months') {
                        const sixMonthsAgo = new Date();
                        sixMonthsAgo.setMonth(today.getMonth() - 6);
                        matchesTime = orderDate >= sixMonthsAgo;
                    } else if (timeValue === 'year') {
                        const yearAgo = new Date();
                        yearAgo.setFullYear(today.getFullYear() - 1);
                        matchesTime = orderDate >= yearAgo;
                    }
                }
                
                return matchesSearch && matchesStatus && matchesTime;
            });
            
            // Reset to first page when filters change
            currentPage = 1;
            
            // Show/hide empty state
            if (filteredOrders.length === 0) {
                ordersContainer.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
            }
            
            // Update total count
            totalItems.textContent = filteredOrders.length;
        }

        // Get paginated orders
        function getPaginatedOrders() {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            return filteredOrders.slice(startIndex, endIndex);
        }

        // Render the orders list with the provided orders
        function renderOrdersList(ordersToRender) {
            ordersContainer.innerHTML = '';
            
            ordersToRender.forEach(order => {
                const orderCard = document.createElement('div');
                orderCard.className = 'bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden';
                
                // Format date
                const orderDate = new Date(order.date);
                const formattedDate = orderDate.toLocaleDateString();
                
                // Status badge class
                let statusClass = '';
                let statusIcon = '';
                switch(order.status) {
                    case 'pending':
                        statusClass = 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>`;
                        break;
                    case 'processing':
                        statusClass = 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                        </svg>`;
                        break;
                    case 'shipped':
                        statusClass = 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                        </svg>`;
                        break;
                    case 'delivered':
                        statusClass = 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>`;
                        break;
                    case 'cancelled':
                        statusClass = 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>`;
                        break;
                }
                
                // Get a preview of items (max 2)
                const itemsPreview = order.items.slice(0, 2).map(item => {
                    return `
                        <div class="flex items-center">
                            <img src="${item.image}" alt="${item.name}" class="w-10 h-10 object-cover rounded mr-3">
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-gray-100">${item.name}</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">Qty: ${item.quantity}</p>
                            </div>
                        </div>
                    `;
                }).join('');
                
                // Add "and X more" if there are more than 2 items
                const moreItemsText = order.items.length > 2 
                    ? `<p class="text-xs text-gray-500 dark:text-gray-400 mt-2">+ ${order.items.length - 2} more item(s)</p>` 
                    : '';
                
                orderCard.innerHTML = `
                    <div class="p-4 sm:p-6">
                        <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${order.id}</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ordered on ${formattedDate}</p>
                            </div>
                            <div class="mt-2 sm:mt-0">
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}">
                                    ${statusIcon}
                                    ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                                </span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row">
                            <div class="sm:w-2/3 mb-4 sm:mb-0 sm:pr-4">
                                ${itemsPreview}
                                ${moreItemsText}
                            </div>
                            <div class="sm:w-1/3 sm:border-l sm:border-gray-200 sm:dark:border-gray-700 sm:pl-4 flex flex-col justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-900 dark:text-white">Total</p>
                                    <p class="text-xl font-bold text-gray-900 dark:text-white">$${order.total.toFixed(2)}</p>
                                </div>
                                <button class="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors view-order" data-id="${order.id}">
                                    View Order
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                ordersContainer.appendChild(orderCard);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('.view-order').forEach(button => {
                button.addEventListener('click', () => {
                    const orderId = button.getAttribute('data-id');
                    openOrderDetails(orderId);
                });
            });
        }

        // Update pagination controls
        function updatePagination() {
            const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
            
            // Update page info
            const startItem = filteredOrders.length > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;
            const endItem = Math.min(currentPage * itemsPerPage, filteredOrders.length);
            
            pageStart.textContent = startItem;
            pageEnd.textContent = endItem;
            
            // Disable/enable prev/next buttons
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            mobilePrevPageBtn.disabled = currentPage === 1;
            mobileNextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            
            prevPageBtn.classList.toggle('opacity-50', currentPage === 1);
            nextPageBtn.classList.toggle('opacity-50', currentPage === totalPages || totalPages === 0);
            mobilePrevPageBtn.classList.toggle('opacity-50', currentPage === 1);
            mobileNextPageBtn.classList.toggle('opacity-50', currentPage === totalPages || totalPages === 0);
            
            // Generate page numbers
            paginationNumbers.innerHTML = '';
            
            // Determine which page numbers to show
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4 && totalPages > 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            // Add first page if not included
            if (startPage > 1) {
                addPageButton(1);
                if (startPage > 2) {
                    addEllipsis();
                }
            }
            
            // Add page numbers
            for (let i = startPage; i <= endPage; i++) {
                addPageButton(i);
            }
            
            // Add last page if not included
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    addEllipsis();
                }
                addPageButton(totalPages);
            }
        }

        // Add a page button to pagination
        function addPageButton(pageNum) {
            const button = document.createElement('button');
            button.className = `relative inline-flex items-center px-4 py-2 border ${
                pageNum === currentPage 
                    ? 'bg-primary-50 dark:bg-primary-900 border-primary-500 text-primary-600 dark:text-primary-300 z-10' 
                    : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700'
            } text-sm font-medium`;
            button.textContent = pageNum;
            
            button.addEventListener('click', () => {
                currentPage = pageNum;
                renderOrders();
            });
            
            paginationNumbers.appendChild(button);
        }

        // Add ellipsis to pagination
        function addEllipsis() {
            const span = document.createElement('span');
            span.className = 'relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-400';
            span.textContent = '...';
            paginationNumbers.appendChild(span);
        }

        // Open order details modal
        function openOrderDetails(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            currentOrderId = orderId;
            
            // Fill modal with order details
            document.getElementById('modal-order-id').textContent = order.id;
            
            const orderDate = new Date(order.date);
            document.getElementById('modal-order-date').textContent = orderDate.toLocaleDateString();
            
            document.getElementById('modal-order-status').textContent = order.status.charAt(0).toUpperCase() + order.status.slice(1);
            document.getElementById('modal-payment-method').textContent = order.paymentMethod;
            document.getElementById('modal-shipping-address').textContent = order.shippingAddress;
            
            // Update progress bar and steps based on status
            updateOrderProgress(order.status);
            
            // Update status message and delivery date
            updateStatusMessage(order);
            
            // Fill order items
            const itemsContainer = document.getElementById('modal-order-items');
            itemsContainer.innerHTML = '';
            
            let subtotal = 0;
            
            order.items.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'flex items-start border-b border-gray-200 dark:border-gray-700 pb-4';
                itemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded mr-4">
                    <div class="flex-1">
                        <div class="flex justify-between">
                            <h4 class="text-sm font-medium text-gray-900 dark:text-white">${item.name}</h4>
                            <p class="text-sm font-medium text-gray-900 dark:text-white">$${(item.price * item.quantity).toFixed(2)}</p>
                        </div>
                        <div class="flex justify-between mt-1">
                            <p class="text-sm text-gray-500 dark:text-gray-400">Qty: ${item.quantity}</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">$${item.price.toFixed(2)} each</p>
                        </div>
                        ${order.status === 'delivered' ? `
                            <button class="mt-2 text-sm text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300">
                                Write a Review
                            </button>
                        ` : ''}
                    </div>
                `;
                
                itemsContainer.appendChild(itemElement);
            });
            
            // Fill totals
            document.getElementById('modal-subtotal').textContent = '$' + subtotal.toFixed(2);
            document.getElementById('modal-shipping').textContent = '$' + order.shipping.toFixed(2);
            document.getElementById('modal-tax').textContent = '$' + order.tax.toFixed(2);
            document.getElementById('modal-total').textContent = '$' + order.total.toFixed(2);
            
            // Show/hide track package button
            trackPackageBtn.style.display = (order.status === 'shipped' || order.status === 'delivered') && order.trackingNumber ? 'block' : 'none';
            
            // Show/hide buy again button
            buyAgainBtn.style.display = order.status === 'cancelled' ? 'none' : 'block';
            
            // Show modal
            orderModal.classList.remove('hidden');
        }

        // Update order progress bar and steps
        function updateOrderProgress(status) {
            const progressBar = document.getElementById('progress-bar');
            const step1 = document.getElementById('step-1');
            const step2 = document.getElementById('step-2');
            const step3 = document.getElementById('step-3');
            const step4 = document.getElementById('step-4');
            
            // Reset all steps
            [step1, step2, step3, step4].forEach(step => {
                step.querySelector('div').classList.remove('bg-primary-500');
                step.querySelector('div').classList.add('bg-gray-300', 'dark:bg-gray-600');
                step.querySelector('svg').classList.add('hidden');
            });
            
            // Update based on status
            switch(status) {
                case 'pending':
                    progressBar.style.width = '25%';
                    step1.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                    step1.querySelector('div').classList.add('bg-primary-500');
                    step1.querySelector('svg').classList.remove('hidden');
                    break;
                case 'processing':
                    progressBar.style.width = '50%';
                    [step1, step2].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'shipped':
                    progressBar.style.width = '75%';
                    [step1, step2, step3].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'delivered':
                    progressBar.style.width = '100%';
                    [step1, step2, step3, step4].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'cancelled':
                    progressBar.style.width = '0%';
                    break;
            }
        }

        // Update status message and delivery date
        function updateStatusMessage(order) {
            const statusMessage = document.getElementById('modal-status-message');
            const deliveryDate = document.getElementById('modal-delivery-date');
            
            switch(order.status) {
                case 'pending':
                    statusMessage.textContent = 'Your order has been placed and is awaiting processing. ';
                    break;
                case 'processing':
                    statusMessage.textContent = 'Your order is being processed and prepared for shipping. ';
                    break;
                case 'shipped':
                    statusMessage.textContent = 'Your order has been shipped and is on its way. ';
                    break;
                case 'delivered':
                    statusMessage.textContent = 'Your order has been delivered. ';
                    break;
                case 'cancelled':
                    statusMessage.textContent = 'Your order has been cancelled. ';
                    break;
            }
            
            if (order.estimatedDelivery && (order.status === 'pending' || order.status === 'processing' || order.status === 'shipped')) {
                const estimatedDate = new Date(order.estimatedDelivery);
                deliveryDate.textContent = 'Estimated delivery: ' + estimatedDate.toLocaleDateString();
            } else {
                deliveryDate.textContent = '';
            }
        }

        // Close order details modal
        function closeOrderDetails() {
            orderModal.classList.add('hidden');
            currentOrderId = null;
        }

        // Track package
        function trackPackage() {
            const order = orders.find(o => o.id === currentOrderId);
            if (!order || !order.trackingNumber) return;
            
            // In a real app, this would redirect to a tracking page or open a tracking modal
            alert(`Tracking number: ${order.trackingNumber}\n\nIn a real application, this would open a tracking page or modal with detailed shipping information.`);
        }

        // Contact support
        function contactSupport() {
            // In a real app, this would open a contact form or chat
            alert(`In a real application, this would open a support chat or contact form related to order ${currentOrderId}.`);
        }

        // Buy again
        function buyAgain() {
            const order = orders.find(o => o.id === currentOrderId);
            if (!order) return;
            
            // In a real app, this would add all items to cart
            const itemNames = order.items.map(item => item.name).join(', ');
            alert(`In a real application, this would add these items to your cart: ${itemNames}`);
        }

        // Set up event listeners
        function setupEventListeners() {
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Search and filters
            searchInput.addEventListener('input', renderOrders);
            statusFilter.addEventListener('change', renderOrders);
            timeFilter.addEventListener('change', renderOrders);
            
            // Modal controls
            closeModal.addEventListener('click', closeOrderDetails);
            trackPackageBtn.addEventListener('click', trackPackage);
            contactSupportBtn.addEventListener('click', contactSupport);
            buyAgainBtn.addEventListener('click', buyAgain);
            
            // Pagination
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderOrders();
                }
            });
            
            nextPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderOrders();
                }
            });
            
            mobilePrevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderOrders();
                }
            });
            
            mobileNextPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderOrders();
                }
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === orderModal) {
                    closeOrderDetails();
                }
            });
        }

        // Initialize the page
        init();
    </script>

{% endblock content %}
{% comment %} 
<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Orders</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                            950: '#082f49',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow">
        <div class="container mx-auto px-4 py-6 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">My Orders</h1>
            <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                <!-- Sun icon (for dark mode) -->
                <svg id="sun-icon" class="hidden dark:block w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
                <!-- Moon icon (for light mode) -->
                <svg id="moon-icon" class="block dark:hidden w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                </svg>
            </button>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Order Summary -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-primary-600 dark:text-primary-400 mr-4">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Orders</p>
                            <p class="text-2xl font-semibold text-gray-900 dark:text-white">12</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 mr-4">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Completed</p>
                            <p class="text-2xl font-semibold text-gray-900 dark:text-white">8</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                    <div class="flex items-center">
                        <div class="p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 mr-4">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-600 dark:text-gray-400">In Progress</p>
                            <p class="text-2xl font-semibold text-gray-900 dark:text-white">4</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search and Filter -->
        <div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
            <div class="relative">
                <input type="text" id="search-input" placeholder="Search orders..." 
                    class="pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-full sm:w-64 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <svg class="w-5 h-5 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>
            <div class="flex gap-2">
                <select id="status-filter" class="border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                    <option value="all">All Orders</option>
                    <option value="pending">Pending</option>
                    <option value="processing">Processing</option>
                    <option value="shipped">Shipped</option>
                    <option value="delivered">Delivered</option>
                    <option value="cancelled">Cancelled</option>
                </select>
                <select id="time-filter" class="border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
                    <option value="all">All Time</option>
                    <option value="30days">Last 30 Days</option>
                    <option value="6months">Last 6 Months</option>
                    <option value="year">Last Year</option>
                </select>
            </div>
        </div>

        <!-- Orders List -->
        <div class="space-y-4" id="orders-container">
            <!-- Orders will be inserted here by JavaScript -->
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="hidden py-12 text-center bg-white dark:bg-gray-800 rounded-lg shadow">
            <svg class="mx-auto h-12 w-12 text-gray-400 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
            </svg>
            <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-gray-100">No orders found</h3>
            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Try adjusting your search or filter to find what you're looking for.</p>
            <div class="mt-6">
                <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                    Start Shopping
                </a>
            </div>
        </div>

        <!-- Pagination -->
        <div class="mt-6 flex items-center justify-between">
            <div class="flex-1 flex justify-between sm:hidden">
                <button id="mobile-prev-page" class="relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700">
                    Previous
                </button>
                <button id="mobile-next-page" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700">
                    Next
                </button>
            </div>
            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                <div>
                    <p class="text-sm text-gray-700 dark:text-gray-300">
                        Showing <span id="page-start" class="font-medium">1</span> to <span id="page-end" class="font-medium">5</span> of <span id="total-items" class="font-medium">12</span> results
                    </p>
                </div>
                <div>
                    <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                        <button id="prev-page" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700">
                            <span class="sr-only">Previous</span>
                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <div id="pagination-numbers" class="flex">
                            <!-- Pagination numbers will be inserted here by JavaScript -->
                        </div>
                        <button id="next-page" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700">
                            <span class="sr-only">Next</span>
                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </nav>
                </div>
            </div>
        </div>
    </main>

    <!-- Order Details Modal -->
    <div id="order-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 flex items-center justify-center z-50 hidden overflow-y-auto">
        <div class="bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full mx-4 my-8 overflow-hidden">
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white">Order #<span id="modal-order-id"></span></h3>
                <button id="close-modal" class="text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Order Status Tracker -->
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
                <div class="relative">
                    <div class="overflow-hidden h-2 mb-6 text-xs flex rounded bg-gray-200 dark:bg-gray-700">
                        <div id="progress-bar" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary-500" style="width: 0%"></div>
                    </div>
                    <div class="flex text-sm justify-between -mt-2">
                        <div id="step-1" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Order Placed</span>
                        </div>
                        <div id="step-2" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Processing</span>
                        </div>
                        <div id="step-3" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Shipped</span>
                        </div>
                        <div id="step-4" class="text-center">
                            <div class="w-6 h-6 mb-1 rounded-full bg-gray-300 dark:bg-gray-600 mx-auto flex items-center justify-center">
                                <svg class="w-4 h-4 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">Delivered</span>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        <span id="modal-status-message">Your order is being processed.</span>
                        <span id="modal-delivery-date" class="font-medium text-gray-900 dark:text-white"></span>
                    </p>
                </div>
            </div>
            
            <div class="px-6 py-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Order Information</h4>
                        <p class="mt-2 text-sm text-gray-900 dark:text-gray-100">Date: <span id="modal-order-date">--</span></p>
                        <p class="text-sm text-gray-900 dark:text-gray-100">Status: <span id="modal-order-status">--</span></p>
                        <p class="text-sm text-gray-900 dark:text-gray-100">Payment Method: <span id="modal-payment-method">--</span></p>
                    </div>
                    <div>
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Shipping Address</h4>
                        <p class="mt-2 text-sm text-gray-900 dark:text-gray-100" id="modal-shipping-address">--</p>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-3">Order Items</h4>
                    <div class="space-y-4" id="modal-order-items">
                        <!-- Order items will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <div class="mt-6 border-t border-gray-200 dark:border-gray-700 pt-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-600 dark:text-gray-400">Subtotal</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-subtotal">--</span>
                    </div>
                    <div class="flex justify-between text-sm mt-2">
                        <span class="text-gray-600 dark:text-gray-400">Shipping</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-shipping">--</span>
                    </div>
                    <div class="flex justify-between text-sm mt-2">
                        <span class="text-gray-600 dark:text-gray-400">Tax</span>
                        <span class="text-gray-900 dark:text-gray-100" id="modal-tax">--</span>
                    </div>
                    <div class="flex justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                        <span class="text-base font-medium text-gray-900 dark:text-white">Total</span>
                        <span class="text-base font-medium text-gray-900 dark:text-white" id="modal-total">--</span>
                    </div>
                </div>
            </div>
            
            <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-3 justify-end">
                <button id="track-package" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Track Package
                </button>
                <button id="contact-support" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Contact Support
                </button>
                <button id="buy-again" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-colors">
                    Buy Again
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sample data - in a real application, this would come from an API
        const orders = [
            {
                id: "ORD-2023-1001",
                date: "2023-05-15T10:30:00",
                total: 129.99,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "123 Main St, Apt 4B, New York, NY 10001, USA",
                items: [
                    { 
                        name: "Wireless Headphones", 
                        quantity: 1, 
                        price: 89.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Headphones"
                    },
                    { 
                        name: "Phone Case", 
                        quantity: 2, 
                        price: 19.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Case"
                    }
                ],
                shipping: 5.99,
                tax: 10.40,
                estimatedDelivery: "2023-05-20",
                trackingNumber: "TRK123456789"
            },
            {
                id: "ORD-2023-1002",
                date: "2023-05-14T14:45:00",
                total: 249.95,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "456 Oak Avenue, Seattle, WA 98101, USA",
                items: [
                    { 
                        name: "Smart Watch", 
                        quantity: 1, 
                        price: 199.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Watch"
                    },
                    { 
                        name: "Watch Band", 
                        quantity: 1, 
                        price: 29.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Band"
                    }
                ],
                shipping: 0,
                tax: 19.97,
                estimatedDelivery: "2023-05-21",
                trackingNumber: "TRK987654321"
            },
            {
                id: "ORD-2023-1003",
                date: "2023-05-14T09:15:00",
                total: 74.98,
                status: "processing",
                paymentMethod: "Credit Card",
                shippingAddress: "789 Pine Street, San Francisco, CA 94101, USA",
                items: [
                    { 
                        name: "Bluetooth Speaker", 
                        quantity: 1, 
                        price: 59.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Speaker"
                    },
                    { 
                        name: "USB Cable", 
                        quantity: 1, 
                        price: 9.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Cable"
                    }
                ],
                shipping: 4.99,
                tax: 6.00,
                estimatedDelivery: "2023-05-22",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1004",
                date: "2023-05-13T16:20:00",
                total: 349.99,
                status: "pending",
                paymentMethod: "Credit Card",
                shippingAddress: "101 Maple Road, Chicago, IL 60601, USA",
                items: [
                    { 
                        name: "Tablet", 
                        quantity: 1, 
                        price: 329.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Tablet"
                    }
                ],
                shipping: 0,
                tax: 20.00,
                estimatedDelivery: "2023-05-23",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1005",
                date: "2023-05-13T11:10:00",
                total: 159.96,
                status: "cancelled",
                paymentMethod: "PayPal",
                shippingAddress: "202 Cedar Lane, Austin, TX 78701, USA",
                items: [
                    { 
                        name: "Wireless Mouse", 
                        quantity: 1, 
                        price: 49.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Mouse"
                    },
                    { 
                        name: "Keyboard", 
                        quantity: 1, 
                        price: 89.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Keyboard"
                    }
                ],
                shipping: 7.99,
                tax: 11.99,
                estimatedDelivery: "",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1006",
                date: "2023-05-12T13:25:00",
                total: 529.98,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "303 Birch Street, Miami, FL 33101, USA",
                items: [
                    { 
                        name: "Smartphone", 
                        quantity: 1, 
                        price: 499.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Phone"
                    },
                    { 
                        name: "Screen Protector", 
                        quantity: 1, 
                        price: 14.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Protector"
                    }
                ],
                shipping: 0,
                tax: 15.00,
                estimatedDelivery: "2023-05-18",
                trackingNumber: "TRK456789123"
            },
            {
                id: "ORD-2023-1007",
                date: "2023-05-12T10:05:00",
                total: 89.98,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "404 Elm Court, Denver, CO 80201, USA",
                items: [
                    { 
                        name: "External Hard Drive", 
                        quantity: 1, 
                        price: 79.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=HDD"
                    }
                ],
                shipping: 4.99,
                tax: 5.00,
                estimatedDelivery: "2023-05-19",
                trackingNumber: "TRK789123456"
            },
            {
                id: "ORD-2023-1008",
                date: "2023-05-11T15:40:00",
                total: 149.97,
                status: "processing",
                paymentMethod: "Credit Card",
                shippingAddress: "505 Spruce Avenue, Boston, MA 02101, USA",
                items: [
                    { 
                        name: "Wireless Earbuds", 
                        quantity: 1, 
                        price: 129.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Earbuds"
                    },
                    { 
                        name: "Charging Case", 
                        quantity: 1, 
                        price: 19.98,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Case"
                    }
                ],
                shipping: 0,
                tax: 0,
                estimatedDelivery: "2023-05-20",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1009",
                date: "2023-05-11T09:30:00",
                total: 299.99,
                status: "pending",
                paymentMethod: "PayPal",
                shippingAddress: "606 Redwood Drive, Portland, OR 97201, USA",
                items: [
                    { 
                        name: "Digital Camera", 
                        quantity: 1, 
                        price: 279.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Camera"
                    }
                ],
                shipping: 9.99,
                tax: 10.01,
                estimatedDelivery: "2023-05-21",
                trackingNumber: ""
            },
            {
                id: "ORD-2023-1010",
                date: "2023-05-10T14:15:00",
                total: 199.98,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "707 Walnut Street, Philadelphia, PA 19101, USA",
                items: [
                    { 
                        name: "Fitness Tracker", 
                        quantity: 1, 
                        price: 149.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Tracker"
                    },
                    { 
                        name: "Extra Band", 
                        quantity: 1, 
                        price: 29.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Band"
                    }
                ],
                shipping: 7.99,
                tax: 12.01,
                estimatedDelivery: "2023-05-15",
                trackingNumber: "TRK321654987"
            },
            {
                id: "ORD-2023-1011",
                date: "2023-05-10T11:20:00",
                total: 449.99,
                status: "shipped",
                paymentMethod: "PayPal",
                shippingAddress: "808 Chestnut Lane, Atlanta, GA 30301, USA",
                items: [
                    { 
                        name: "Gaming Console", 
                        quantity: 1, 
                        price: 399.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Console"
                    },
                    { 
                        name: "Controller", 
                        quantity: 1, 
                        price: 49.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Controller"
                    }
                ],
                shipping: 0,
                tax: 0.01,
                estimatedDelivery: "2023-05-17",
                trackingNumber: "TRK654987321"
            },
            {
                id: "ORD-2023-1012",
                date: "2023-05-09T16:55:00",
                total: 79.99,
                status: "delivered",
                paymentMethod: "Credit Card",
                shippingAddress: "909 Aspen Road, Las Vegas, NV 89101, USA",
                items: [
                    { 
                        name: "Portable Charger", 
                        quantity: 1, 
                        price: 59.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Charger"
                    },
                    { 
                        name: "USB-C Cable", 
                        quantity: 2, 
                        price: 9.99,
                        image: "https://placehold.co/80x80/e2e8f0/1e293b?text=Cable"
                    }
                ],
                shipping: 0,
                tax: 0.02,
                estimatedDelivery: "2023-05-14",
                trackingNumber: "TRK159753456"
            }
        ];

        // DOM elements
        const ordersContainer = document.getElementById('orders-container');
        const emptyState = document.getElementById('empty-state');
        const searchInput = document.getElementById('search-input');
        const statusFilter = document.getElementById('status-filter');
        const timeFilter = document.getElementById('time-filter');
        const orderModal = document.getElementById('order-modal');
        const closeModal = document.getElementById('close-modal');
        const trackPackageBtn = document.getElementById('track-package');
        const contactSupportBtn = document.getElementById('contact-support');
        const buyAgainBtn = document.getElementById('buy-again');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const mobilePrevPageBtn = document.getElementById('mobile-prev-page');
        const mobileNextPageBtn = document.getElementById('mobile-next-page');
        const paginationNumbers = document.getElementById('pagination-numbers');
        const pageStart = document.getElementById('page-start');
        const pageEnd = document.getElementById('page-end');
        const totalItems = document.getElementById('total-items');
        const themeToggle = document.getElementById('theme-toggle');

        // State variables
        let filteredOrders = [...orders];
        let currentPage = 1;
        const itemsPerPage = 5;
        let currentOrderId = null;

        // Initialize the page
        function init() {
            // Initialize theme from localStorage
            initTheme();
            renderOrders();
            setupEventListeners();
        }

        // Initialize theme based on localStorage or system preference
        function initTheme() {
            // Check if theme is stored in localStorage
            const storedTheme = localStorage.getItem('theme');
            
            if (storedTheme) {
                // Apply stored theme
                document.documentElement.classList.toggle('dark', storedTheme === 'dark');
            } else {
                // Check system preference
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                document.documentElement.classList.toggle('dark', prefersDark);
                localStorage.setItem('theme', prefersDark ? 'dark' : 'light');
            }
        }

        // Toggle theme between light and dark
        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Render orders
        function renderOrders() {
            // Apply filters
            applyFilters();
            
            // Apply pagination
            const paginatedOrders = getPaginatedOrders();
            
            // Update orders list
            renderOrdersList(paginatedOrders);
            
            // Update pagination
            updatePagination();
        }

        // Apply filters to orders
        function applyFilters() {
            const searchTerm = searchInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const timeValue = timeFilter.value;
            
            filteredOrders = orders.filter(order => {
                // Search filter
                const matchesSearch = 
                    order.id.toLowerCase().includes(searchTerm) ||
                    order.items.some(item => item.name.toLowerCase().includes(searchTerm));
                
                // Status filter
                const matchesStatus = statusValue === 'all' || order.status === statusValue;
                
                // Time filter
                let matchesTime = true;
                if (timeValue !== 'all') {
                    const orderDate = new Date(order.date);
                    const today = new Date();
                    
                    if (timeValue === '30days') {
                        const thirtyDaysAgo = new Date();
                        thirtyDaysAgo.setDate(today.getDate() - 30);
                        matchesTime = orderDate >= thirtyDaysAgo;
                    } else if (timeValue === '6months') {
                        const sixMonthsAgo = new Date();
                        sixMonthsAgo.setMonth(today.getMonth() - 6);
                        matchesTime = orderDate >= sixMonthsAgo;
                    } else if (timeValue === 'year') {
                        const yearAgo = new Date();
                        yearAgo.setFullYear(today.getFullYear() - 1);
                        matchesTime = orderDate >= yearAgo;
                    }
                }
                
                return matchesSearch && matchesStatus && matchesTime;
            });
            
            // Reset to first page when filters change
            currentPage = 1;
            
            // Show/hide empty state
            if (filteredOrders.length === 0) {
                ordersContainer.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
            }
            
            // Update total count
            totalItems.textContent = filteredOrders.length;
        }

        // Get paginated orders
        function getPaginatedOrders() {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            return filteredOrders.slice(startIndex, endIndex);
        }

        // Render the orders list with the provided orders
        function renderOrdersList(ordersToRender) {
            ordersContainer.innerHTML = '';
            
            ordersToRender.forEach(order => {
                const orderCard = document.createElement('div');
                orderCard.className = 'bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden';
                
                // Format date
                const orderDate = new Date(order.date);
                const formattedDate = orderDate.toLocaleDateString();
                
                // Status badge class
                let statusClass = '';
                let statusIcon = '';
                switch(order.status) {
                    case 'pending':
                        statusClass = 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>`;
                        break;
                    case 'processing':
                        statusClass = 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                        </svg>`;
                        break;
                    case 'shipped':
                        statusClass = 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                        </svg>`;
                        break;
                    case 'delivered':
                        statusClass = 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>`;
                        break;
                    case 'cancelled':
                        statusClass = 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300';
                        statusIcon = `<svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>`;
                        break;
                }
                
                // Get a preview of items (max 2)
                const itemsPreview = order.items.slice(0, 2).map(item => {
                    return `
                        <div class="flex items-center">
                            <img src="${item.image}" alt="${item.name}" class="w-10 h-10 object-cover rounded mr-3">
                            <div>
                                <p class="text-sm font-medium text-gray-900 dark:text-gray-100">${item.name}</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">Qty: ${item.quantity}</p>
                            </div>
                        </div>
                    `;
                }).join('');
                
                // Add "and X more" if there are more than 2 items
                const moreItemsText = order.items.length > 2 
                    ? `<p class="text-xs text-gray-500 dark:text-gray-400 mt-2">+ ${order.items.length - 2} more item(s)</p>` 
                    : '';
                
                orderCard.innerHTML = `
                    <div class="p-4 sm:p-6">
                        <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${order.id}</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ordered on ${formattedDate}</p>
                            </div>
                            <div class="mt-2 sm:mt-0">
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}">
                                    ${statusIcon}
                                    ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                                </span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row">
                            <div class="sm:w-2/3 mb-4 sm:mb-0 sm:pr-4">
                                ${itemsPreview}
                                ${moreItemsText}
                            </div>
                            <div class="sm:w-1/3 sm:border-l sm:border-gray-200 sm:dark:border-gray-700 sm:pl-4 flex flex-col justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-900 dark:text-white">Total</p>
                                    <p class="text-xl font-bold text-gray-900 dark:text-white">$${order.total.toFixed(2)}</p>
                                </div>
                                <button class="mt-4 w-full bg-primary-600 hover:bg-primary-700 text-white py-2 px-4 rounded-lg transition-colors view-order" data-id="${order.id}">
                                    View Order
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                ordersContainer.appendChild(orderCard);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('.view-order').forEach(button => {
                button.addEventListener('click', () => {
                    const orderId = button.getAttribute('data-id');
                    openOrderDetails(orderId);
                });
            });
        }

        // Update pagination controls
        function updatePagination() {
            const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
            
            // Update page info
            const startItem = filteredOrders.length > 0 ? (currentPage - 1) * itemsPerPage + 1 : 0;
            const endItem = Math.min(currentPage * itemsPerPage, filteredOrders.length);
            
            pageStart.textContent = startItem;
            pageEnd.textContent = endItem;
            
            // Disable/enable prev/next buttons
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            mobilePrevPageBtn.disabled = currentPage === 1;
            mobileNextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            
            prevPageBtn.classList.toggle('opacity-50', currentPage === 1);
            nextPageBtn.classList.toggle('opacity-50', currentPage === totalPages || totalPages === 0);
            mobilePrevPageBtn.classList.toggle('opacity-50', currentPage === 1);
            mobileNextPageBtn.classList.toggle('opacity-50', currentPage === totalPages || totalPages === 0);
            
            // Generate page numbers
            paginationNumbers.innerHTML = '';
            
            // Determine which page numbers to show
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4 && totalPages > 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            // Add first page if not included
            if (startPage > 1) {
                addPageButton(1);
                if (startPage > 2) {
                    addEllipsis();
                }
            }
            
            // Add page numbers
            for (let i = startPage; i <= endPage; i++) {
                addPageButton(i);
            }
            
            // Add last page if not included
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    addEllipsis();
                }
                addPageButton(totalPages);
            }
        }

        // Add a page button to pagination
        function addPageButton(pageNum) {
            const button = document.createElement('button');
            button.className = `relative inline-flex items-center px-4 py-2 border ${
                pageNum === currentPage 
                    ? 'bg-primary-50 dark:bg-primary-900 border-primary-500 text-primary-600 dark:text-primary-300 z-10' 
                    : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700'
            } text-sm font-medium`;
            button.textContent = pageNum;
            
            button.addEventListener('click', () => {
                currentPage = pageNum;
                renderOrders();
            });
            
            paginationNumbers.appendChild(button);
        }

        // Add ellipsis to pagination
        function addEllipsis() {
            const span = document.createElement('span');
            span.className = 'relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-400';
            span.textContent = '...';
            paginationNumbers.appendChild(span);
        }

        // Open order details modal
        function openOrderDetails(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            currentOrderId = orderId;
            
            // Fill modal with order details
            document.getElementById('modal-order-id').textContent = order.id;
            
            const orderDate = new Date(order.date);
            document.getElementById('modal-order-date').textContent = orderDate.toLocaleDateString();
            
            document.getElementById('modal-order-status').textContent = order.status.charAt(0).toUpperCase() + order.status.slice(1);
            document.getElementById('modal-payment-method').textContent = order.paymentMethod;
            document.getElementById('modal-shipping-address').textContent = order.shippingAddress;
            
            // Update progress bar and steps based on status
            updateOrderProgress(order.status);
            
            // Update status message and delivery date
            updateStatusMessage(order);
            
            // Fill order items
            const itemsContainer = document.getElementById('modal-order-items');
            itemsContainer.innerHTML = '';
            
            let subtotal = 0;
            
            order.items.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'flex items-start border-b border-gray-200 dark:border-gray-700 pb-4';
                itemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded mr-4">
                    <div class="flex-1">
                        <div class="flex justify-between">
                            <h4 class="text-sm font-medium text-gray-900 dark:text-white">${item.name}</h4>
                            <p class="text-sm font-medium text-gray-900 dark:text-white">$${(item.price * item.quantity).toFixed(2)}</p>
                        </div>
                        <div class="flex justify-between mt-1">
                            <p class="text-sm text-gray-500 dark:text-gray-400">Qty: ${item.quantity}</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400">$${item.price.toFixed(2)} each</p>
                        </div>
                        ${order.status === 'delivered' ? `
                            <button class="mt-2 text-sm text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300">
                                Write a Review
                            </button>
                        ` : ''}
                    </div>
                `;
                
                itemsContainer.appendChild(itemElement);
            });
            
            // Fill totals
            document.getElementById('modal-subtotal').textContent = '$' + subtotal.toFixed(2);
            document.getElementById('modal-shipping').textContent = '$' + order.shipping.toFixed(2);
            document.getElementById('modal-tax').textContent = '$' + order.tax.toFixed(2);
            document.getElementById('modal-total').textContent = '$' + order.total.toFixed(2);
            
            // Show/hide track package button
            trackPackageBtn.style.display = (order.status === 'shipped' || order.status === 'delivered') && order.trackingNumber ? 'block' : 'none';
            
            // Show/hide buy again button
            buyAgainBtn.style.display = order.status === 'cancelled' ? 'none' : 'block';
            
            // Show modal
            orderModal.classList.remove('hidden');
        }

        // Update order progress bar and steps
        function updateOrderProgress(status) {
            const progressBar = document.getElementById('progress-bar');
            const step1 = document.getElementById('step-1');
            const step2 = document.getElementById('step-2');
            const step3 = document.getElementById('step-3');
            const step4 = document.getElementById('step-4');
            
            // Reset all steps
            [step1, step2, step3, step4].forEach(step => {
                step.querySelector('div').classList.remove('bg-primary-500');
                step.querySelector('div').classList.add('bg-gray-300', 'dark:bg-gray-600');
                step.querySelector('svg').classList.add('hidden');
            });
            
            // Update based on status
            switch(status) {
                case 'pending':
                    progressBar.style.width = '25%';
                    step1.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                    step1.querySelector('div').classList.add('bg-primary-500');
                    step1.querySelector('svg').classList.remove('hidden');
                    break;
                case 'processing':
                    progressBar.style.width = '50%';
                    [step1, step2].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'shipped':
                    progressBar.style.width = '75%';
                    [step1, step2, step3].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'delivered':
                    progressBar.style.width = '100%';
                    [step1, step2, step3, step4].forEach(step => {
                        step.querySelector('div').classList.remove('bg-gray-300', 'dark:bg-gray-600');
                        step.querySelector('div').classList.add('bg-primary-500');
                        step.querySelector('svg').classList.remove('hidden');
                    });
                    break;
                case 'cancelled':
                    progressBar.style.width = '0%';
                    break;
            }
        }

        // Update status message and delivery date
        function updateStatusMessage(order) {
            const statusMessage = document.getElementById('modal-status-message');
            const deliveryDate = document.getElementById('modal-delivery-date');
            
            switch(order.status) {
                case 'pending':
                    statusMessage.textContent = 'Your order has been placed and is awaiting processing. ';
                    break;
                case 'processing':
                    statusMessage.textContent = 'Your order is being processed and prepared for shipping. ';
                    break;
                case 'shipped':
                    statusMessage.textContent = 'Your order has been shipped and is on its way. ';
                    break;
                case 'delivered':
                    statusMessage.textContent = 'Your order has been delivered. ';
                    break;
                case 'cancelled':
                    statusMessage.textContent = 'Your order has been cancelled. ';
                    break;
            }
            
            if (order.estimatedDelivery && (order.status === 'pending' || order.status === 'processing' || order.status === 'shipped')) {
                const estimatedDate = new Date(order.estimatedDelivery);
                deliveryDate.textContent = 'Estimated delivery: ' + estimatedDate.toLocaleDateString();
            } else {
                deliveryDate.textContent = '';
            }
        }

        // Close order details modal
        function closeOrderDetails() {
            orderModal.classList.add('hidden');
            currentOrderId = null;
        }

        // Track package
        function trackPackage() {
            const order = orders.find(o => o.id === currentOrderId);
            if (!order || !order.trackingNumber) return;
            
            // In a real app, this would redirect to a tracking page or open a tracking modal
            alert(`Tracking number: ${order.trackingNumber}\n\nIn a real application, this would open a tracking page or modal with detailed shipping information.`);
        }

        // Contact support
        function contactSupport() {
            // In a real app, this would open a contact form or chat
            alert(`In a real application, this would open a support chat or contact form related to order ${currentOrderId}.`);
        }

        // Buy again
        function buyAgain() {
            const order = orders.find(o => o.id === currentOrderId);
            if (!order) return;
            
            // In a real app, this would add all items to cart
            const itemNames = order.items.map(item => item.name).join(', ');
            alert(`In a real application, this would add these items to your cart: ${itemNames}`);
        }

        // Set up event listeners
        function setupEventListeners() {
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Search and filters
            searchInput.addEventListener('input', renderOrders);
            statusFilter.addEventListener('change', renderOrders);
            timeFilter.addEventListener('change', renderOrders);
            
            // Modal controls
            closeModal.addEventListener('click', closeOrderDetails);
            trackPackageBtn.addEventListener('click', trackPackage);
            contactSupportBtn.addEventListener('click', contactSupport);
            buyAgainBtn.addEventListener('click', buyAgain);
            
            // Pagination
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderOrders();
                }
            });
            
            nextPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderOrders();
                }
            });
            
            mobilePrevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderOrders();
                }
            });
            
            mobileNextPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderOrders();
                }
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === orderModal) {
                    closeOrderDetails();
                }
            });
        }

        // Initialize the page
        init();
    </script>
</body>
</html> {% endcomment %}